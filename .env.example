# =================================================================
# Corner League Media - Environment Configuration Template
# =================================================================
# Copy this file to .env and update the values for your environment
#
# SECURITY NOTE: Never commit .env files to version control
# This template shows required variables and safe example values
# =================================================================

# =================================================================
# ENVIRONMENT CONFIGURATION
# =================================================================
ENVIRONMENT=development
DEBUG=true

# =================================================================
# DATABASE CONFIGURATION
# =================================================================

# Local PostgreSQL Database (for Docker development)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/sportsdb
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/sportsdb_test

# Alternative: Supabase Configuration (for production/cloud)
# Uncomment and configure these for Supabase usage
# SUPABASE_DATABASE_URL=postgresql://postgres:[YOUR_PASSWORD]@[YOUR_PROJECT_REF].supabase.co:5432/postgres
# SUPABASE_DB_HOST=your-project-ref.supabase.co
# SUPABASE_DB_PASSWORD=your-secure-database-password
# SUPABASE_DB_NAME=postgres
# SUPABASE_DB_USER=postgres
# SUPABASE_DB_PORT=5432

# Database Performance Settings
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100

# =================================================================
# API CONFIGURATION
# =================================================================
API_HOST=0.0.0.0
API_PORT=8000
SECRET_KEY=your-super-secret-key-min-32-chars-long-please-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440
JWT_SECRET_KEY=another-super-secret-key-for-jwt-tokens-please-change-this

# CORS Configuration
ALLOWED_ORIGIN=http://localhost:8080,http://localhost:3000,http://localhost
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# =================================================================
# FIREBASE AUTHENTICATION CONFIGURATION
# =================================================================
# Get these from your Firebase Console: https://console.firebase.google.com
#
# IMPORTANT: All VITE_FIREBASE_* variables are REQUIRED for frontend authentication.
# Missing any of these will cause "project_id Field required" or similar validation errors.
#
# Setup Instructions:
# 1. Go to Firebase Console -> Project Settings -> Service accounts
# 2. Click "Generate new private key" to download JSON file
# 3. Extract values from the downloaded JSON file:
#    - project_id -> FIREBASE_PROJECT_ID (backend) & VITE_FIREBASE_PROJECT_ID (frontend)
#    - private_key -> FIREBASE_PRIVATE_KEY (keep the \n characters)
#    - client_email -> FIREBASE_CLIENT_EMAIL
# 4. For web configuration, go to Project Settings -> General -> Your apps
#    - Click on "Web app" config icon to get these values:
#    - apiKey -> VITE_FIREBASE_API_KEY
#    - authDomain -> VITE_FIREBASE_AUTH_DOMAIN
#    - projectId -> VITE_FIREBASE_PROJECT_ID (must match FIREBASE_PROJECT_ID)
#    - storageBucket -> VITE_FIREBASE_STORAGE_BUCKET
#    - messagingSenderId -> VITE_FIREBASE_MESSAGING_SENDER_ID
#    - appId -> VITE_FIREBASE_APP_ID

# Backend Firebase Admin SDK Configuration
# Required for server-side authentication and user management
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour Firebase private key here\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# Alternative: Firebase Service Account Key File Path (instead of private key inline)
# Set either this OR the private key above, not both
FIREBASE_SERVICE_ACCOUNT_KEY_PATH=/path/to/your-firebase-service-account-key.json

# Frontend Firebase Web Configuration (for client-side authentication)
# ALL of these VITE_ variables are REQUIRED - missing any will cause initialization failures
VITE_FIREBASE_API_KEY=your-firebase-web-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-firebase-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef123456789012345678

# Firebase Development & Testing Configuration
# Set VITE_FIREBASE_USE_EMULATOR=true to use local Firebase emulators for development
VITE_FIREBASE_USE_EMULATOR=false
FIREBASE_USE_EMULATOR=false
FIREBASE_AUTH_EMULATOR_HOST=localhost:9099

# Firebase Security & Validation Settings
FIREBASE_VERIFY_TOKENS=true
FIREBASE_CHECK_REVOKED=true
FIREBASE_REQUIRE_EMAIL_VERIFICATION=false
FIREBASE_ALLOWED_AUDIENCES=your-firebase-project-id

# Development/Testing Firebase Settings (use with caution)
# These should ONLY be true in local development environments
BYPASS_AUTH_IN_DEVELOPMENT=false
ALLOW_FIREBASE_MOCK_TOKENS=false

# Note: If Firebase configuration is incomplete or missing, the application will
# automatically fall back to mock authentication in development mode. However,
# this may cause authentication state management issues and should be avoided
# in favor of proper Firebase configuration or using the Firebase emulator.

# Security Configuration
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_ID=true
# =================================================================
# AI CONFIGURATION
# =================================================================

# DeepSeek AI Configuration
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
AI_MODEL=deepseek-chat

# OpenAI Configuration (alternative)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_API_BASE_URL=https://api.openai.com/v1

# AI Request Settings
AI_REQUEST_TIMEOUT=30
AI_MAX_RETRIES=3

# =================================================================
# CRAWLER/PROXY CONFIGURATION
# =================================================================
# For web scraping functionality
EVOMI_PROXY_USER=your-proxy-username
EVOMI_PROXY_PASS=your-proxy-password

# =================================================================
# FRONTEND CONFIGURATION
# =================================================================
VITE_API_URL=http://localhost:8000
VITE_APP_NAME=Corner League Media
VITE_APP_VERSION=1.0.0

# =================================================================
# SEARCH CONFIGURATION
# =================================================================
SEARCH_BACKEND=postgresql
SEARCH_USE_ELASTICSEARCH=false

# Alternative: Elasticsearch Configuration
# ELASTICSEARCH_URL=http://localhost:9200
# ELASTICSEARCH_INDEX=sports_content

# =================================================================
# FEATURE FLAGS
# =================================================================
ENABLE_AI_SUMMARIZATION=false
ENABLE_TRENDING_DISCOVERY=false
ENABLE_QUALITY_ENFORCEMENT=false
ENABLE_REAL_TIME_UPDATES=false
ENABLE_CACHING=true

# =================================================================
# MONITORING & OBSERVABILITY
# =================================================================

# Grafana Configuration
GRAFANA_PASSWORD=secure-grafana-password
GRAFANA_USER=admin

# Prometheus Configuration
PROMETHEUS_ENABLED=false
METRICS_ENDPOINT=/metrics

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_SQL_LOGGING=false

# =================================================================
# DOCKER CONFIGURATION
# =================================================================

# PostgreSQL Docker Settings
POSTGRES_DB=sportsdb
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Redis Docker Settings
REDIS_MAX_MEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Development Services
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

# MinIO Object Storage (Development)
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=minioadmin

# OpenTelemetry & Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4318/v1/metrics
OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs
OTEL_SERVICE_NAME=corner-league-media
OTEL_SERVICE_VERSION=1.0.0
OTEL_RESOURCE_ATTRIBUTES=service.name=corner-league-media,service.version=1.0.0,deployment.environment=development

# Jaeger Configuration
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# =================================================================
# DEVELOPMENT TOOLS
# =================================================================

# Database Administration
ADMINER_ENABLED=true
ADMINER_PORT=8081

# Redis Administration
REDIS_COMMANDER_ENABLED=true
REDIS_COMMANDER_PORT=8082
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

# =================================================================
# PERFORMANCE & SCALING
# =================================================================

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Cache Settings
CACHE_TTL=3600
CACHE_PREFIX=corner_league

# Connection Pooling
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30

# =================================================================
# SECURITY CONFIGURATION
# =================================================================

# Session Configuration
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# HTTPS Settings (for production)
FORCE_HTTPS=false
SSL_CERT_PATH=/etc/ssl/certs/corner-league.crt
SSL_KEY_PATH=/etc/ssl/private/corner-league.key

# =================================================================
# BACKUP & MAINTENANCE
# =================================================================

# Database Backup
AUTO_BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Health Check Settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3